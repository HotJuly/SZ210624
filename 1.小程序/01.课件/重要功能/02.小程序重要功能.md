# 小程序重要功能

1. 从当前小程序跳转到另外一个小程序

   1. API:wx.navigateToMiniProgram
   2. 文档位置:API->开放接口->小程序跳转
   3. 该API需要传递另外一个小程序的appid,才可以实现跳转


2.强制更新

​	前言:小程序的启动一共分两种,分别是热启动和冷启动

​	**冷启动**:根据小程序机制,首次开启的时候,小程序需要初始化渲染

​	**热启动**:根据小程序机制,如果用户离开当前小程序不超过5分钟(期间用户的内存足够),再次进入小程序,小程序会保持离开之前的状态,不会关闭

​	1.获取全局唯一的更新管理器实例

```javascript
let updateManager = wx.getUpdateManager();
```

​	2.绑定checkforupdate事件监听

​		1.他会不断向微信官方服务器发送请求,检测当前小程序版本是否为最新版本

​		2.如果出现比本地更新的版本,会自动下载

```javascript
updateManager.onCheckForUpdate(function (res) {
      // 请求完新版本信息的回调
    //res中的hasUpdate可以知道是否需要更新
      if (res.hasUpdate) {
          //弹窗提示用户
      }
    })
```

​	3.绑定updateReady事件,监听小程序更新是否下载完成

```javascript
 updateManager.onUpdateReady(function () {
     //调用该API实现更新包安装,强制更新
     updateManager.applyUpdate()
    })
```

​	注意:一般来说不会直接调用updateManager.applyUpdate(),因为这个代码会直接关闭小程序,并开始更新的安装操作,为了防止用户正在做某些大事,我们一般会友好的弹出窗口提示用户有最新版本,咨询是否更新
